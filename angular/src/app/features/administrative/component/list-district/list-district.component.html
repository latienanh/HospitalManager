<div>
    <button nz-button nzType="primary" (click)="onAdd()">Thêm mới huyện</button>
    <app-add-district [isVisibleAddDistrict]="isVisibleAddDistrict" (visibilityChange)="handleVisibilityAddChange($event)">
    </app-add-district>
  
    <button nz-button nzType="default" (click)="onExport()">Nhập huyện</button>
    <app-import-district-excel [isVisibleImportDistrict]="isVisibleImportDistrict"
      (visibilityChange)="handleVisibilityImportChange($event)">
  
    </app-import-district-excel>
    <form [formGroup]="form">
      <nz-select formControlName="selectedValue" nzAllowClear nzPlaceHolder="Chọn tỉnh" nzShowSearch >
        <nz-option *ngFor="let province of provinces.data" [nzValue]="province.code" [nzLabel]="province.name"></nz-option>
      </nz-select>
    </form>
    
    
  </div>
  
  <nz-table #nestedTable [nzData]="districts.data" [nzTotal]="pageSize * districts.totalPage" [nzPageIndex]="currentPage"
    (nzPageIndexChange)="onPageChange($event)" [nzFrontPagination]="false" [nzTitle]="'Danh sách huyện '">
  
    <thead>
      <tr>
        <th>Mã</th>
        <th>Tên</th>
        <th>Cấp</th>
        <th>Mã huyện</th>
        <th>Thời gian tạo</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let data of districts.data; trackBy: trackById">
        <tr>
          <td>{{ data.code }}</td>
          <td>{{ data.name }}</td>
          <td>{{ data.administrativeLevel }}</td>
          <td>{{ data.provinceCode }}</td>
          <td>{{ data.creationTime | date: 'HH:mm:ss dd-MM-yyyy ' }}</td>
          <td>
            <button nz-button nzType="default" (click)="onDelete(data.id)">
              Xoá
            </button>
            <button nz-button nzType="default" (click)="onEdit(data.id)">
              Sửa
            </button>
            <app-update-district *ngIf="selectedId === data.id" [isVisibleUpdateDistrict]="isVisibleUpdateDistrict" (visibilityChange)="handleVisibilityUpdateChange($event)" [id]="data.id"></app-update-district>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </nz-table>